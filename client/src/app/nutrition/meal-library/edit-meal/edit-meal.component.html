<h2 class="text-xl font-semibold text-gray-900 tracking-tight mb-6">Edit Meal</h2>

<form [formGroup]="mealForm" (ngSubmit)="onSubmit()" class="space-y-6">
	<!-- Meal Name -->
	<div>
		<label for="name" class="block text-sm mb-1">Meal Name</label>
		<input
			id="name"
			type="text"
			formControlName="name"
			placeholder="e.g. Grilled Chicken Salad"
			[ngClass]="{
				'border-red-600': isInvalid('name'),
				'border-gray-300': !isInvalid('name')
			}"
			class="w-full px-4 py-2 border rounded-xl text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2" />
		@if (isInvalid('name')) {
		<p class="text-sm text-red-600">Please enter a name</p>
		}
	</div>

	<!-- Calories -->
	<div>
		<label for="calories" class="block text-sm mb-1">Calories</label>
		<input
			id="calories"
			type="number"
			formControlName="calories"
			placeholder="e.g. 350"
			[ngClass]="{
				'border-red-600': isInvalid('calories'),
				'border-gray-300': !isInvalid('calories')
			}"
			class="w-full px-4 py-2 border rounded-xl text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2" />
		@if (isInvalid('calories')) {
		<p class="text-sm text-red-600">Please enter a valid calorie amount</p>
		}
	</div>

	<!-- Fat -->
	<div>
		<label for="fat" class="block text-sm mb-1">Fat (g)</label>
		<input
			id="fat"
			type="number"
			formControlName="fat"
			placeholder="e.g. 10"
			[ngClass]="{
				'border-red-600': isInvalid('fat'),
				'border-gray-300': !isInvalid('fat')
			}"
			class="w-full px-4 py-2 border rounded-xl text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2" />
		@if (isInvalid('fat')) {
		<p class="text-sm text-red-600">Please enter fat content</p>
		}
	</div>

	<!-- Protein -->
	<div>
		<label for="protein" class="block text-sm mb-1">Protein (g)</label>
		<input
			id="protein"
			type="number"
			formControlName="protein"
			placeholder="e.g. 30"
			[ngClass]="{
				'border-red-600': isInvalid('protein'),
				'border-gray-300': !isInvalid('protein')
			}"
			class="w-full px-4 py-2 border rounded-xl text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2" />
		@if (isInvalid('protein')) {
		<p class="text-sm text-red-600">Please enter protein content</p>
		}
	</div>

	<!-- Carbs -->
	<div>
		<label for="carbs" class="block text-sm mb-1">Carbohydrates (g)</label>
		<input
			id="carbs"
			type="number"
			formControlName="carbs"
			placeholder="e.g. 20"
			[ngClass]="{
				'border-red-600': isInvalid('carbs'),
				'border-gray-300': !isInvalid('carbs')
			}"
			class="w-full px-4 py-2 border rounded-xl text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2" />
		@if (isInvalid('carbs')) {
		<p class="text-sm text-red-600">Please enter carbohydrate content</p>
		}
	</div>

	<!-- Description -->
	<div>
		<label for="description" class="block text-sm mb-1">Description</label>
		<textarea
			id="description"
			formControlName="description"
			placeholder="e.g. A healthy grilled chicken salad with greens"
			rows="4"
			[ngClass]="{
				'border-red-600': isInvalid('description'),
				'border-gray-300': !isInvalid('description')
			}"
			class="w-full px-4 py-2 border rounded-xl text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-1"></textarea>
		@if (isInvalid('description')) {
		<p class="text-sm text-red-600">Please enter a description</p>
		}
	</div>

	<!-- Buttons -->
	<div class="flex gap-3">
		<button
			type="submit"
			class="bg-blue-600 text-white px-5 py-2.5 rounded-xl text-sm font-medium hover:bg-blue-700 transition cursor-pointer"
			[ngClass]="{ 'opacity-50': mealForm.invalid }"
			[disabled]="mealForm.invalid">
			Save Meal
		</button>

		<button
			type="button"
			(click)="closeEditMode()"
			class="bg-purple-600 text-white px-5 py-2.5 rounded-xl text-sm font-medium hover:bg-purple-700 transition cursor-pointer">
			Close
		</button>
	</div>
</form>
